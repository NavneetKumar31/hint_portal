{"ast":null,"code":"var _jsxFileName = \"/Users/master/Documents/Technicals/REACTJS/hint-portal/src/components/rules-extraction/ingestion/post-form.jsx\";\nimport React from \"react\";\nimport Form from \"../../../common/form\";\nimport Joi from \"joi-browser\";\nimport { getPost, savePost } from \"../../../services/postsService\";\n\nclass PostForm extends Form {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {\n        UserId: 1,\n        Id: \"\",\n        Title: \"\",\n        Body: \"\"\n      },\n      title: \"\",\n      errors: {}\n    };\n    this.schema = {\n      Id: Joi.string(),\n      Title: Joi.string().required().label(\"Title\"),\n      UserId: Joi.number().integer().label(\"User Id\"),\n      Body: Joi.string().required().label(\"Message\")\n    };\n\n    this.doSubmit = () => {\n      console.log(this.state.data);\n      savePost(this.state.data);\n      this.props.history.push(\"/rules-extraction/ingestion/sharepoint\");\n    };\n  }\n\n  async componentDidMount() {\n    const postId = this.props.match.params.id;\n\n    if (postId === \"new\") {\n      this.setState({\n        title: \"Add new post\"\n      });\n      return;\n    }\n\n    this.setState({\n      title: `Edit Post with id: ${postId}`\n    });\n    const post = getPost(postId);\n    console.log(post);\n    if (!post) return this.props.history.replace(\"/not-found\");\n    this.setState({\n      data: this.mapToViewModel(post)\n    });\n  }\n\n  mapToViewModel(post) {\n    return {\n      Id: post.id,\n      Title: post.title,\n      UserId: post.userId,\n      Body: post.body\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-card-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }\n    }, this.state.title)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-card-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }\n    }, this.renderInput(\"Title\", \"Title\"), this.renderTextArea(\"Body\", \"Message\"), this.renderButton(\"Save\"))))));\n  }\n\n}\n\nexport default PostForm;","map":{"version":3,"sources":["/Users/master/Documents/Technicals/REACTJS/hint-portal/src/components/rules-extraction/ingestion/post-form.jsx"],"names":["React","Form","Joi","getPost","savePost","PostForm","state","data","UserId","Id","Title","Body","title","errors","schema","string","required","label","number","integer","doSubmit","console","log","props","history","push","componentDidMount","postId","match","params","id","setState","post","replace","mapToViewModel","userId","body","render","handleSubmit","renderInput","renderTextArea","renderButton"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Form from \"../../../common/form\";\nimport Joi from \"joi-browser\";\nimport { getPost, savePost } from \"../../../services/postsService\";\n\nclass PostForm extends Form {\n  state = {\n    data: {\n      UserId: 1,\n      Id: \"\",\n      Title: \"\",\n      Body: \"\",\n    },\n    title: \"\",\n    errors: {},\n  };\n\n  schema = {\n    Id: Joi.string(),\n    Title: Joi.string().required().label(\"Title\"),\n    UserId: Joi.number().integer().label(\"User Id\"),\n    Body: Joi.string().required().label(\"Message\"),\n  };\n\n  async componentDidMount() {\n    const postId = this.props.match.params.id;\n    if (postId === \"new\") {\n      this.setState({ title: \"Add new post\" });\n      return;\n    }\n    this.setState({ title: `Edit Post with id: ${postId}` });\n    const post = getPost(postId);\n    console.log(post);\n\n    if (!post) return this.props.history.replace(\"/not-found\");\n    this.setState({ data: this.mapToViewModel(post) });\n  }\n\n  mapToViewModel(post) {\n    return {\n      Id: post.id,\n      Title: post.title,\n      UserId: post.userId,\n      Body: post.body,\n    };\n  }\n\n  doSubmit = () => {\n    console.log(this.state.data);\n    savePost(this.state.data);\n    this.props.history.push(\"/rules-extraction/ingestion/sharepoint\");\n  };\n\n  render() {\n    return (\n      <div className=\"form-container\">\n        <div className=\"form-wrapper\">\n          <div className=\"form-card\">\n            <div className=\"form-card-header\">\n              <p className=\"title\">{this.state.title}</p>\n            </div>\n            <div className=\"form-card-content\">\n              <form onSubmit={this.handleSubmit}>\n                {this.renderInput(\"Title\", \"Title\")}\n                {this.renderTextArea(\"Body\", \"Message\")}\n                {this.renderButton(\"Save\")}\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PostForm;\n"]},"metadata":{},"sourceType":"module"}