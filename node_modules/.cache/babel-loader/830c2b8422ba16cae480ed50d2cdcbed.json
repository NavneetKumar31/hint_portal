{"ast":null,"code":"var _jsxFileName = \"/Users/master/Documents/Technicals/REACTJS/hint-portal/src/components/rules-extraction/ingestion/sharepoint-repo.jsx\";\nimport React, { Component } from \"react\";\nimport { getPosts, deletePost } from \"../../../services/postsService\";\nimport InfoPanel from \"../../../common/infoPanel\";\nimport Table from \"../../../common/table\";\nimport { tableConstants } from \"../../../common/tableConstant\";\n\nclass SharePoint extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      posts: []\n    };\n\n    this.handleDelete = async post => {\n      const originalPosts = this.state.posts;\n      const posts = originalPosts.filter(p => p.id !== post.id);\n      this.setState({\n        posts\n      });\n\n      try {\n        await deletePost(post.id);\n      } catch (ex) {\n        if (ex.response && ex.response.status === 404) console.log(\"x\"); // toast.error(\"This movie has already been deleted.\");\n\n        this.setState({\n          posts: originalPosts\n        });\n      }\n    };\n\n    this.handleRoute = param => {\n      const routePath = \"/rules-extraction/ingestion/sharepoint-form/\" + param;\n      this.props.history.push(routePath);\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      data: posts\n    } = await getPosts();\n    this.setState({\n      posts\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sharepoint-repo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(InfoPanel, {\n      title: \"Sharepoint Repository\",\n      subtitle: \"Here you can manage your sharepoint data.\",\n      btnLabel: \"Add Sharepoint\",\n      onRoute: this.handleRoute,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Table, {\n      cols: tableConstants(this.state.columns, this.handleEdit, this.handleDelete),\n      isHovered: true,\n      data: this.state.data,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default SharePoint;","map":{"version":3,"sources":["/Users/master/Documents/Technicals/REACTJS/hint-portal/src/components/rules-extraction/ingestion/sharepoint-repo.jsx"],"names":["React","Component","getPosts","deletePost","InfoPanel","Table","tableConstants","SharePoint","state","posts","handleDelete","post","originalPosts","filter","p","id","setState","ex","response","status","console","log","handleRoute","param","routePath","props","history","push","componentDidMount","data","render","columns","handleEdit"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,gCAArC;AACA,OAAOC,SAAP,MAAsB,2BAAtB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,SAASC,cAAT,QAA+B,+BAA/B;;AAEA,MAAMC,UAAN,SAAyBN,SAAzB,CAAmC;AAAA;AAAA;AAAA,SACjCO,KADiC,GACzB;AACNC,MAAAA,KAAK,EAAE;AADD,KADyB;;AAAA,SAWjCC,YAXiC,GAWlB,MAAOC,IAAP,IAAgB;AAC7B,YAAMC,aAAa,GAAG,KAAKJ,KAAL,CAAWC,KAAjC;AACA,YAAMA,KAAK,GAAGG,aAAa,CAACC,MAAd,CAAsBC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASJ,IAAI,CAACI,EAA1C,CAAd;AACA,WAAKC,QAAL,CAAc;AAAEP,QAAAA;AAAF,OAAd;;AAEA,UAAI;AACF,cAAMN,UAAU,CAACQ,IAAI,CAACI,EAAN,CAAhB;AACD,OAFD,CAEE,OAAOE,EAAP,EAAW;AACX,YAAIA,EAAE,CAACC,QAAH,IAAeD,EAAE,CAACC,QAAH,CAAYC,MAAZ,KAAuB,GAA1C,EAA+CC,OAAO,CAACC,GAAR,CAAY,GAAZ,EADpC,CAEX;;AAEA,aAAKL,QAAL,CAAc;AAAEP,UAAAA,KAAK,EAAEG;AAAT,SAAd;AACD;AACF,KAxBgC;;AAAA,SA0BjCU,WA1BiC,GA0BlBC,KAAD,IAAW;AACvB,YAAMC,SAAS,GAAG,iDAAiDD,KAAnE;AACA,WAAKE,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwBH,SAAxB;AACD,KA7BgC;AAAA;;AAKjC,QAAMI,iBAAN,GAA0B;AACxB,UAAM;AAAEC,MAAAA,IAAI,EAAEpB;AAAR,QAAkB,MAAMP,QAAQ,EAAtC;AAEA,SAAKc,QAAL,CAAc;AAAEP,MAAAA;AAAF,KAAd;AACD;;AAsBDqB,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,SAAD;AACE,MAAA,KAAK,EAAC,uBADR;AAEE,MAAA,QAAQ,EAAC,2CAFX;AAGE,MAAA,QAAQ,EAAC,gBAHX;AAIE,MAAA,OAAO,EAAE,KAAKR,WAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAOE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAEhB,cAAc,CAClB,KAAKE,KAAL,CAAWuB,OADO,EAElB,KAAKC,UAFa,EAGlB,KAAKtB,YAHa,CADtB;AAME,MAAA,SAAS,EAAE,IANb;AAOE,MAAA,IAAI,EAAE,KAAKF,KAAL,CAAWqB,IAPnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CADF,CADF;AA6DD;;AA7FgC;;AAgGnC,eAAetB,UAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { getPosts, deletePost } from \"../../../services/postsService\";\nimport InfoPanel from \"../../../common/infoPanel\";\nimport Table from \"../../../common/table\";\nimport { tableConstants } from \"../../../common/tableConstant\";\n\nclass SharePoint extends Component {\n  state = {\n    posts: [],\n  };\n\n  async componentDidMount() {\n    const { data: posts } = await getPosts();\n\n    this.setState({ posts });\n  }\n\n  handleDelete = async (post) => {\n    const originalPosts = this.state.posts;\n    const posts = originalPosts.filter((p) => p.id !== post.id);\n    this.setState({ posts });\n\n    try {\n      await deletePost(post.id);\n    } catch (ex) {\n      if (ex.response && ex.response.status === 404) console.log(\"x\");\n      // toast.error(\"This movie has already been deleted.\");\n\n      this.setState({ posts: originalPosts });\n    }\n  };\n\n  handleRoute = (param) => {\n    const routePath = \"/rules-extraction/ingestion/sharepoint-form/\" + param;\n    this.props.history.push(routePath);\n  };\n\n  render() {\n    return (\n      <div className=\"sharepoint-repo\">\n        <div className=\"wrapper\">\n          <InfoPanel\n            title=\"Sharepoint Repository\"\n            subtitle=\"Here you can manage your sharepoint data.\"\n            btnLabel=\"Add Sharepoint\"\n            onRoute={this.handleRoute}\n          />\n          <Table\n            cols={tableConstants(\n              this.state.columns,\n              this.handleEdit,\n              this.handleDelete\n            )}\n            isHovered={true}\n            data={this.state.data}\n          />\n          {/* <div className=\"table-container\">\n            <div className=\"table-wrapper table-responsive\">\n              <table className=\"table table-hover\">\n                <thead>\n                  <tr>\n                    <th>UserId</th>\n                    <th>Title</th>\n                    <th>Body</th>\n                    <th></th>\n                    <th></th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {this.state.posts.map((post) => (\n                    <tr key={post.id}>\n                      <td>{post?.userId}</td>\n                      <td>{post?.title}</td>\n                      <td>{post?.body}</td>\n                      <td>\n                        <button\n                          className=\"btn btn-sm btn-outline-primary\"\n                          onClick={() => this.handleRoute(post.id)}\n                        >\n                          <i className=\"fa fa-pencil\"></i>\n                        </button>\n                      </td>\n                      <td>\n                        <button\n                          className=\"btn btn-sm btn-outline-danger\"\n                          onClick={() => this.handleDelete(post)}\n                        >\n                          <i className=\"fa fa-trash-o\"></i>\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div> */}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SharePoint;\n"]},"metadata":{},"sourceType":"module"}