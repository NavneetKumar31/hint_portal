{"ast":null,"code":"var _jsxFileName = \"/Users/master/Documents/Technicals/REACTJS/hint-portal/src/components/rules-extraction/ingestion/sharepoint-repo.jsx\";\nimport React, { Component } from \"react\";\nimport { getPosts, deletePost } from \"../../../services/postsService\";\nimport InfoPanel from \"../../../common/infoPanel\";\nimport Table from \"../../../common/table\";\nimport { tableConstants } from \"../../../common/tableConstant\";\n\nclass SharePoint extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      columns: [{\n        title: \"ID\",\n        value: \"id\"\n      }, {\n        title: \"User Id\",\n        value: \"userId\"\n      }, {\n        title: \"Title\",\n        value: \"title\"\n      }, {\n        title: \"Message\",\n        value: \"body\"\n      }],\n      posts: []\n    };\n\n    this.handleEdit = post => {\n      this.handleRoute(post.id);\n    };\n\n    this.handleDelete = async post => {\n      const originalPosts = this.state.posts;\n      const posts = originalPosts.filter(p => p.id !== post.id);\n      this.setState({\n        posts\n      });\n\n      try {\n        await deletePost(post.id);\n      } catch (ex) {\n        if (ex.response && ex.response.status === 404) console.log(\"x\");\n        this.setState({\n          posts: originalPosts\n        });\n      }\n    };\n\n    this.handleRoute = param => {\n      const routePath = \"/rules-extraction/ingestion/sharepoint-form/\" + param;\n      this.props.history.push(routePath);\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      data: posts\n    } = await getPosts();\n    this.setState({\n      posts\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sharepoint-repo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(InfoPanel, {\n      title: \"Sharepoint Repository\",\n      subtitle: \"Here you can manage your sharepoint data.\",\n      btnLabel: \"Add Sharepoint\",\n      onRoute: this.handleRoute,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Table, {\n      cols: tableConstants(this.state.columns, this.handleEdit, this.handleDelete),\n      isHovered: true,\n      data: this.state.posts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default SharePoint;","map":{"version":3,"sources":["/Users/master/Documents/Technicals/REACTJS/hint-portal/src/components/rules-extraction/ingestion/sharepoint-repo.jsx"],"names":["React","Component","getPosts","deletePost","InfoPanel","Table","tableConstants","SharePoint","state","columns","title","value","posts","handleEdit","post","handleRoute","id","handleDelete","originalPosts","filter","p","setState","ex","response","status","console","log","param","routePath","props","history","push","componentDidMount","data","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { getPosts, deletePost } from \"../../../services/postsService\";\nimport InfoPanel from \"../../../common/infoPanel\";\nimport Table from \"../../../common/table\";\nimport { tableConstants } from \"../../../common/tableConstant\";\n\nclass SharePoint extends Component {\n  state = {\n    columns: [\n      {\n        title: \"ID\",\n        value: \"id\",\n      },\n      {\n        title: \"User Id\",\n        value: \"userId\",\n      },\n      {\n        title: \"Title\",\n        value: \"title\",\n      },\n      {\n        title: \"Message\",\n        value: \"body\",\n      },\n    ],\n    posts: [],\n  };\n\n  async componentDidMount() {\n    const { data: posts } = await getPosts();\n    this.setState({ posts });\n  }\n\n  handleEdit = (post) => {\n    this.handleRoute(post.id);\n  };\n\n  handleDelete = async (post) => {\n    const originalPosts = this.state.posts;\n    const posts = originalPosts.filter((p) => p.id !== post.id);\n    this.setState({ posts });\n\n    try {\n      await deletePost(post.id);\n    } catch (ex) {\n      if (ex.response && ex.response.status === 404) console.log(\"x\");\n      this.setState({ posts: originalPosts });\n    }\n  };\n\n  handleRoute = (param) => {\n    const routePath = \"/rules-extraction/ingestion/sharepoint-form/\" + param;\n    this.props.history.push(routePath);\n  };\n\n  render() {\n    return (\n      <div className=\"sharepoint-repo\">\n        <div className=\"wrapper\">\n          <InfoPanel\n            title=\"Sharepoint Repository\"\n            subtitle=\"Here you can manage your sharepoint data.\"\n            btnLabel=\"Add Sharepoint\"\n            onRoute={this.handleRoute}\n          />\n          <Table\n            cols={tableConstants(\n              this.state.columns,\n              this.handleEdit,\n              this.handleDelete\n            )}\n            isHovered={true}\n            data={this.state.posts}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SharePoint;\n"]},"metadata":{},"sourceType":"module"}